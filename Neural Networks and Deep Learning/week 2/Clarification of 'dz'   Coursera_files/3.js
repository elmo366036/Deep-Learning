(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+M5F":function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetDeadlines=exports.disableDeadlines=exports.loadCourseDeadlines=exports.setDeadlinesIfEligible=exports.enableDeadlines=exports.receiveDeadlines=void 0;var r=t(e("wiyT")),a=t(e("JAlB")),u=t(e("wDa7")),d=t(e("CA+Q")),n=t(e("ML/G")),o=e("JuBF"),i=function receiveDeadlines(e,t){var r=t.deadlines,a=r.isEnabled,u=r.moduleDeadlines;a?e.dispatch("LOAD_COURSE_DEADLINES",{moduleDeadlines:u}):e.dispatch("DISABLE_DEADLINES")};exports.receiveDeadlines=i;var s=function enableDeadlines(e){var t=e.getStore("CourseStore").getCourseId();return u.default.sendStartTime(!0,t).fail(function(e){throw e}).then(d.default).then(function(t){var r=t.elements,a=r[0].start;return n.default.pushV2(["open_course_home.welcome.emit.course_deadline_set",{first_week_due_time:a}]),e.executeAction(i,{deadlines:r[0]})})};exports.enableDeadlines=s;var l=function setDeadlinesIfEligible(e){var t=e.getStore("CourseStore"),u=e.getStore("CourseScheduleStore"),d=e.getStore("ProgressStore"),n=(0,o.getCurrentWeek)(t,u,d),i=t.hasLaunched(),l=t.getCourseId(),c=e.getStore("CourseMembershipStore").isEnrolled(),f=e.getStore("SessionStore");return!(0,a.default)(l)&&i&&!f.isSessionsCourse()&&1===n&&c?e.executeAction(s,{}):(0,r.default)()};exports.setDeadlinesIfEligible=l;var c=function loadCourseDeadlines(e,t){var n=t.userId,o=e.getStore("CourseStore").hasLaunched(),s=e.getStore("CourseStore").getCourseId(),c=e.getStore("CourseMembershipStore").isEnrolled(),f=e.getStore("SessionStore"),v=e.getStore("CourseStore").isReal();if(!c||!n||(0,a.default)(s)||!1!==v&&!o)return(0,r.default)();if(f.isSessionsEnabled()){if(f.isEnrolled()){var p=f.getSession(),S={moduleDeadlines:p.moduleDeadlines};S.itemDeadlines=p.itemDeadlines,e.dispatch("LOAD_COURSE_DEADLINES",S)}return(0,r.default)()}return u.default.getStartTime(s).then(d.default).then(function(t){var r,a=t.elements[0];return a?e.executeAction(i,{deadlines:a}):e.executeAction(l,{})})};exports.loadCourseDeadlines=c;var f=function disableDeadlines(e){var t=e.getStore("CourseStore").getCourseId();return u.default.disableDeadlines(t).then(function(){return e.dispatch("DISABLE_DEADLINES")}).fail(function(e){throw e})};exports.disableDeadlines=f;var v=function resetDeadlines(e,t){var r=t.userId,a=e.getStore("CourseStore").getCourseId();return u.default.resetDeadlines(a).then(function(){return e.executeAction(c,{userId:r})}).fail(function(e){throw e})};exports.resetDeadlines=v},"3/Qw":function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("pVnL")),a=t(e("QILm")),u=t(e("sbe7")),d=t(e("shn3")),n=function LoadingBox(e){var t=e.loadingText,n=e.iconSize,o=void 0===n?64:n,i=e.iconName,s=void 0===i?"SvgCssLoaderSignal":i,l=(0,a.default)(e,["loadingText","iconSize","iconName"]);return u.default.createElement("div",(0,r.default)({className:"rc-LoadingBox vertical-box align-items-absolute-center"},l),u.default.createElement(d.default,{iconName:s,size:o,className:"color-primary"}),t&&u.default.createElement("p",null,t))};n.propTypes={iconName:u.default.PropTypes.string,loadingText:u.default.PropTypes.string,iconSize:u.default.PropTypes.number};var o=n;exports.default=o},"5Ujo":function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadCoursePresentGrade=void 0;var r=t(e("wiyT")),a=t(e("Vu1r")),u=function loadCoursePresentGrade(e,t){var u=t.userId,d=t.courseId;if(e.getStore("CoursePresentGradeStore").hasLoaded())return(0,r.default)();return u?(0,r.default)(a.default.getPresentGrade({userId:u,courseId:d})).then(function(t){var r=t.elements[0];e.dispatch("LOAD_COURSE_PRESENT_GRADE",{presentGrade:r})}).fail(function(t){e.dispatch("LOAD_COURSE_PRESENT_GRADE_FAIL",{})}):(e.dispatch("LOAD_COURSE_PRESENT_GRADE_FAIL",{}),(0,r.default)())};exports.loadCoursePresentGrade=u},"8iQH":function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("wiyT")),a=t(e("BDKN")),u=t(e("DnuM")),d=t(e("IAOZ")),n=function _default(e){var t=new u.default("/api/courses.v1",{type:"rest"}),n=(new a.default).addQueryParam("q","slug").addQueryParam("slug",e).addQueryParam("fields","certificates").addQueryParam("showHidden",!0);return(0,r.default)(t.get(n.toString())).then(function(t){if("notFound"===t.errorCode)return null;var r=t.elements[0],a=r.id,u=r.certificates;return d.default.courseId=a,d.default.courseSlug=e,{courseId:a,courseCertificates:u}})};exports.default=n},Bgx3:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("wiyT")),a=t(e("8iQH")),u=t(e("9zHD")),d=function _default(e,t){if(e.getStore(u.default).haveCourseIdentifiersLoaded())return(0,r.default)();if(!t)throw new Error("Missing courseSlug");return(0,a.default)(t).then(function(r){var a=r.courseId,u=r.courseCertificates;if(!a)throw new Error("Missing courseId");return e.dispatch("SET_COURSE_IDENTIFIERS",{courseId:a,courseSlug:t,courseCertificates:u}),{courseId:a,courseSlug:t,courseCertificates:u}}).catch(function(a){console.error("Error getting courseId and courseCertificates from courseSlug: ".concat(t,": "),a,a.stack);var u="",d=[];return e.dispatch("SET_COURSE_IDENTIFIERS",{courseId:"",courseSlug:t,courseCertificates:d}),(0,r.default)({courseId:"",courseSlug:t,courseCertificates:d})})};exports.default=d},JAlB:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("KMW/")),a=function _default(e){return-1!==r.default.get("featureBlacklist","defaultDeadlines").indexOf(e)};exports.default=a},JdaY:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("sbe7")),a=e("VYij"),u=t(e("sQ/U")),d=t(e("jsrg")),n=t(e("kwmr")),o=t(e("+LJP")),i=t(e("NLLZ")),s=t(e("dAof")),l=t(e("Bgx3")),c=e("vpeK"),f=e("YMRy"),v=e("iTPM"),p=e("Re7p"),S=e("Shko"),g=e("+M5F"),m=e("Nher"),h=e("V85f"),D=e("dgIx"),I=e("5Ujo"),y=e("JSqB"),E=t(e("nY8d")),w=t(e("9zHD")),P=t(e("4qA7")),L=t(e("paF6")),C=t(e("8c4I")),O=t(e("Lfu5")),T=t(e("BMna")),R=t(e("RwVU")),b=t(e("x+tN")),M=t(e("3/Qw")),A=function DataFetcherBody(e){var t=e.children;if(!t)return null;return r.default.cloneElement(t,{})},N=(0,a.compose)((0,i.default)(function(){return!1}),(0,o.default)(function(e){return{courseSlug:e.params.courseSlug}}),(0,n.default)([P.default,w.default,O.default,E.default,L.default,T.default,C.default,R.default],function(e,t,r,a,u,d,n,o){return{s12n:a.getS12n(),course:t.getMetadata(),courseId:t.getCourseId(),isEnrolled:r.isEnrolled(),sessionId:e.getSessionId(),isEnrolledInSession:e.isEnrolled(),s12nStoreHasLoaded:a.hasLoaded(),courseStoreHasLoaded:t.hasLoaded(),sessionStoreHasLoaded:e.hasLoaded(),verificationStoreHasLoaded:u.hasLoaded(),courseMembershipStoreHasLoaded:r.hasLoaded(),computedModelStoreHasLoaded:n.hasLoaded(),courseIdentifiersHaveLoaded:t.haveCourseIdentifiersLoaded(),courseViewGradeStoreHasLoaded:d.hasLoaded(),progressStoreHasLoaded:o.hasLoaded()}}),(0,s.default)(function(e,t){var r=t.courseSlug;e.executeAction(l.default,r)}),(0,d.default)(function(e){var t;return e.courseIdentifiersHaveLoaded}),(0,d.default)(function(e){var t;return!!e.courseId},r.default.createElement(b.default,null)),(0,s.default)(function(e,t){var r=t.courseId;e.executeAction(S.loadMembership,r)}),(0,d.default)(function(e){var t;return e.courseMembershipStoreHasLoaded}),(0,d.default)(function(e){var t=e.isEnrolled;return u.default.isSuperuser()||t},r.default.createElement(b.default,null)),(0,s.default)(function(e,t){var r=t.courseSlug,a=t.courseId;e.executeAction(v.loadComputedModels,{courseSlug:r,courseId:a})}),(0,d.default)(function(e){var t;return e.computedModelStoreHasLoaded}),(0,s.default)(function(e,t){var r=t.courseId,a=t.courseSlug,d=u.default.get().id,n=u.default.isAuthenticatedUser();e.executeAction(f.getCurrentSession,{courseSlug:a}),e.executeAction(m.loadCourseViewGrade,{courseId:r}),e.executeAction(D.loadUserGroupsForCourse,{courseId:r,userId:d}),e.executeAction(y.loadHonorsUserPreferences,{authenticated:n}),e.executeAction(p.loadCertificateData,{courseId:r,userId:d}),e.executeAction(c.getProgress,{authenticated:n,courseId:r,userId:d})}),(0,d.default)(function(e){var t=e.s12nStoreHasLoaded,r=e.courseStoreHasLoaded,a=e.sessionStoreHasLoaded,u=e.courseViewGradeStoreHasLoaded,d=e.progressStoreHasLoaded;return t&&r&&a&&u&&d}),(0,s.default)(function(e,t){var r=t.courseId,a=t.course,d=t.s12n,n=t.sessionId,o=u.default.get().id,i=u.default.isAuthenticatedUser(),s=d&&d.getId(),l=a.isVerificationEnabled(),c=e.getStore("CourseStore");e.executeAction(g.loadCourseDeadlines,{userId:o}),c.isCumulativeGradePolicy()&&e.executeAction(I.loadCoursePresentGrade,{userId:o,courseId:r}),e.executeAction(h.loadVerificationDisplay,{authenticated:i,userId:o,courseId:r,isCourseVerificationEnabled:l,s12nId:s}),e.executeAction(D.loadUserSessionGroupForCourse,{courseId:r,userId:o,sessionId:n})}),(0,d.default)(function(e){var t;return e.verificationStoreHasLoaded}))(A),H=function LegacyDataFetch(e){var t=e.children,a=e.isLegacyDataLoaded;return r.default.createElement("div",{className:"rc-LegacyDataFetch"},r.default.createElement(N,null,t),!a&&r.default.createElement(M.default,{iconSize:512}))},U=(0,a.compose)((0,n.default)([L.default],function(e){return{isLegacyDataLoaded:e.hasLoaded()}}))(H);exports.default=U},KeRb:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getHomeProgress=void 0;var r=t(e("wiyT")),a=t(e("BDKN")),u=t(e("CWYE")),d=t(e("sQ/U")),n=(0,u.default)("/api/onDemandHomeProgress.v1",{type:"rest"}),o=function getHomeProgress(e){var t="".concat(d.default.get().id,"~").concat(e),u=new a.default(t).addQueryParam("fields","modulesCompleted,modulesPassed");return(0,r.default)(n.get(u.toString()))};exports.getHomeProgress=o},NBfQ:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("wiyT")),a=t(e("sQ/U")),u=t(e("nY8d")),d=e("4San"),n=t(e("qujA")),o=function _default(e,t){if(e.getStore(u.default).hasLoaded())return(0,r.default)();var o;return(0,d.rawPrimaryS12ns)(t,a.default.get().id).then(function(e){var t=(o=e).elements,u=t&&t[0];return u&&a.default.isAuthenticatedUser()?(0,n.default)(u.id,!0):(0,r.default)()}).then(function(t){return e.dispatch("LOAD_S12N",{rawS12ns:o,rawOwnership:t}),{rawS12ns:o,rawOwnership:t}})};exports.default=o},NLLZ:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=renderOrigamiIf;var r=t(e("VbXa")),a=t(e("sbe7")),u=t(e("17x9")),d=t(e("+MHB")),n=t(e("BDKN")),o=t(e("37kS"));function renderOrigamiIf(e){return function(t){var i=t.displayName||t.name,s=function(u){function RenderOrigamiIf(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=u.call.apply(u,[this].concat(r))||this).routerWillLeave=function(e){var t=d.default.renderedRegions.filter(function(e){return e.view.hasUnsavedModel}).map(function(e){return e.view.hasUnsavedModel()}).reduce(function(e,t){return e||t},!1);if(!t)return!0;return!(!t||!window.confirm((0,o.default)("There are unsaved changes that will be lost if you reload or leave this page.")))},e}(0,r.default)(RenderOrigamiIf,u);var i=RenderOrigamiIf.prototype;return i.componentDidMount=function componentDidMount(){var e=this,t=this.context.router,r=this.props.route,a=function navigate(a){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=new n.default(a),o=new n.default(window.location.toString());if(o.path()===d.path()&&o.query()===d.query())return;!0===u||u&&!0===u.trigger?u&&u.replace?t.replace(a):t.push(a):u&&u.replace?window.history.replaceState(null,null,a):window.history.pushState(null,null,a),r&&t.setRouteLeaveHook(r,e.routerWillLeave)};d.default.router.navigate=a,d.default.router.navigateTo=a},i.componentWillReceiveProps=function componentWillReceiveProps(t,r){e(this.props)&&!e(t)&&d.default.trigger("close")},i.render=function render(){return e(this.props)?a.default.createElement("div",null,a.default.createElement("div",{"data-js":"origami"}),a.default.createElement(t,this.props)):a.default.createElement(t,this.props)},RenderOrigamiIf}(a.default.Component);return s.displayName="RenderOrigamiIf(".concat(i,")"),s.propTypes={children:u.default.node,route:u.default.object},s.contextTypes={router:u.default.object},s}}},NO4R:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("wiyT")),a=t(e("NttE")),u=t(e("htcR")),d=t(e("WYnM")),n=function _default(e,t){if(e.getStore(u.default).hasLoaded())return(0,r.default)();if(!t)return r.default.reject(new d.default("courseId must be provided."));return(0,a.default)(t).then(function(t){e.dispatch("LOAD_COURSE_SCHEDULE",t)})};exports.default=n},NttE:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=e("WN3X"),a=t(e("CA+Q")),u=function _default(e){if(!e)throw new Error("`courseId` is required to get course schedule.");return(0,r.getCourseSchedule)(e).then(a.default).then(function(e){var t;return e.elements[0].defaultSchedule.periods})};exports.default=u},PVyl:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var r=t(e("qlEU")),a=t(e("KgRe")),u=t(e("cySH"));function _default(e){return(0,r.default)(u.default.build(a.default.prototype.resourceName,e))}},Re7p:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadCertificateData=void 0;var r=t(e("MVZn")),a=t(e("wiyT")),u=t(e("yF8l")),d={showHidden:!0,fields:["courseId","grade"],includes:{vcMembership:{fields:["certificateCode","grade","grantedAt"]},course:{fields:[]}}},n=function loadCertificateData(e,t){var n=t.courseId,o=t.userId,i;if(e.getStore("CertificateStore").hasLoaded())return(0,a.default)();return(i=o?(0,u.default)((0,r.default)({id:"".concat(o,"~").concat(n)},d,{rawData:!0})).then(function(t){e.dispatch("LOAD_MEMBERSHIPS",t)}):(0,a.default)().then(function(){e.dispatch("LOAD_MEMBERSHIPS",null)})).done(),i};exports.loadCertificateData=n},TFmq:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("wiyT")),a=t(e("sQ/U")),u=t(e("RwVU")),d=e("KeRb"),n=function _default(e,t){if(e.getStore(u.default).hasLoaded())return(0,r.default)();return a.default.isAuthenticatedUser()?(0,d.getHomeProgress)(t).then(function(t){t.elements&&t.elements.length&&e.dispatch("LOAD_HOME_PROGRESS",t.elements[0])}).fail(function(){e.dispatch("LOAD_HOME_PROGRESS",{modulesCompleted:[],modulesPassed:[]})}):(e.dispatch("LOAD_HOME_PROGRESS",{modulesCompleted:[],modulesPassed:[]}),(0,r.default)())};exports.default=n},V85f:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadVerificationDisplay=void 0;var r=t(e("wiyT")),a=t(e("l490")),u=t(e("paF6")),d=function loadVerificationDisplay(e,t){var d=t.authenticated,n=t.userId,o=t.courseId,i=t.s12nId,s=t.isCourseVerificationEnabled;if(e.getStore(u.default).hasLoaded())return(0,r.default)();return d?(0,a.default)(n,o,s,i).then(function(t){e.dispatch("LOAD_VERIFICATION_DISPLAY",t)}):(e.dispatch("LOAD_VERIFICATION_DISPLAY",null),(0,r.default)())};exports.loadVerificationDisplay=d},Vu1r:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("wiyT")),a=t(e("BDKN")),u,d=(0,t(e("DnuM")).default)("/api/onDemandCoursePresentGrades.v1",{type:"rest"}),n,o={getPresentGrade:function getPresentGrade(e){var t=e.userId,u=e.courseId,n=new a.default("/".concat(t,"~").concat(u)).addQueryParam("fields","grade,relevantItems,passingStateForecast");return(0,r.default)(d.get(n.toString()))}};exports.default=o},WN3X:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCourseSchedule=void 0;var r=t(e("wiyT")),a=t(e("BDKN")),u,d=new(t(e("CWYE")).default)("/api/onDemandCourseSchedules.v1"),n=function getCourseSchedule(e){var t=new a.default(e).addQueryParam("fields","defaultSchedule");return(0,r.default)(d.get(t.toString()))};exports.getCourseSchedule=n},dgIx:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadUserSessionGroupForCourse=exports.loadUserGroupsForCourse=void 0;var r=t(e("wiyT")),a=t(e("VYij")),u=t(e("yFL5")),d=t(e("6p3O")),n=t(e("Aw3H")),o=function loadUserGroupsForCourse(e,t){var o=t.courseId,i=t.userId;if(e.getStore("GroupSettingStore").hasLoaded())return(0,r.default)();return u.default.myCourseGroupsWithSettings(i,o).then(function(t){var r=(0,a.default)(t.linked["groupSettings.v1"]).map(function(e){return new n.default(e)}),u=t.linked["groups.v1"].map(function(e){return new d.default(e)}),o=t.elements;e.dispatch("LOADED_COURSE_GROUPS",{groups:u,groupSettings:r,groupMemberships:o})}).fail(function(t){e.dispatch("LOADED_COURSE_GROUPS",{})})};exports.loadUserGroupsForCourse=o;var i=function loadUserSessionGroupForCourse(e,t){var a=t.courseId,d=t.userId,n=t.sessionId;if(e.getStore("GroupSettingStore").hasSessionGroupLoaded())return(0,r.default)();return u.default.getCourseSessionGroup(d,a,n).then(function(t){var r=t.elements[0];e.dispatch("LOADED_SESSION_GROUP",{sessionGroup:r})}).fail(function(t){e.dispatch("LOADED_SESSION_GROUP",{})})};exports.loadUserSessionGroupForCourse=i},iTPM:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadComputedModels=void 0;var r=t(e("wiyT")),a=t(e("NBfQ")),u=t(e("sroZ")),d=t(e("NO4R")),n=t(e("hw75")),o=t(e("wbHF")),i=t(e("TFmq")),s=t(e("8c4I")),l=function loadComputedModels(e,t){var l=t.courseSlug,c=t.courseId;if(e.getStore(s.default).hasLoaded())return(0,r.default)();return r.default.all([(0,u.default)(e),(0,a.default)(e,c),(0,n.default)(e,l),(0,d.default)(e,c),(0,o.default)(e,c),(0,i.default)(e,c)]).then(function(){e.dispatch("LOAD_COMPUTED_MODELS")})};exports.loadComputedModels=l},l490:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var r=t(e("wiyT")),a=t(e("uyIS"));function _default(e,t,u,d){if(u&&e){var n=r.default.all([(0,a.default)(e,t,!0)]).spread(function(e){var t;return{isProductVerificationEnabled:u,productOwnership:e,s12nId:d}},function(){return null});return n.done(),n}var o=(0,r.default)(null);return o.done(),o}},sroZ:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("wiyT")),a=t(e("DnuM")),u=t(e("9zHD")),d=function _default(e){var t=(0,a.default)("/api/domains.v1",{type:"rest"});if(void 0!==e.getStore(u.default).domains)return(0,r.default)();return(0,r.default)(t.get("?fields=id,name")).then(function(t){e.dispatch("LOAD_DOMAINS",t.elements)})};exports.default=d},wDa7:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.resetDeadlines=exports.getResetPreview=exports.disableDeadlines=exports.sendStartTime=exports.getStartTime=exports.default=void 0;var r=t(e("wiyT")),a=t(e("CWYE")),u=t(e("BDKN")),d=t(e("sQ/U")),n=(0,a.default)("/api/onDemandDeadlineSettings.v1",{type:"rest"}),o={getStartTime:function getStartTime(e){var t=(new u.default).addQueryParam("q","byUserAndCourse").addQueryParam("userId",d.default.get().id).addQueryParam("courseId",e).toString();return(0,r.default)(n.get(t)).fail(function(e){console.error(e)})},sendStartTime:function sendStartTime(e,t){var a={data:{userId:d.default.get().id,courseId:t,start:Date.now(),isEnabled:e}};return(0,r.default)(n.post("",a))},disableDeadlines:function disableDeadlines(e){return o.sendStartTime(!1,e)},getResetPreview:function getResetPreview(e,t){var a=(new u.default).addQueryParam("q","extendPreview").addQueryParam("userId",d.default.get().id).addQueryParam("courseId",e).addQueryParam("extendedAt",Date.now()).toString();(0,r.default)(n.get(a)).then(t).fail(function(e){console.error(e)}).done()},resetDeadlines:function resetDeadlines(e){var t={data:{userId:d.default.get().id,courseId:e,extendedAt:Date.now()}},a=(new u.default).addQueryParam("action","extend").toString();return(0,r.default)(n.post(a,t))}},i=o;exports.default=i;var s=o.getStartTime,l=o.sendStartTime,c=o.disableDeadlines,f=o.getResetPreview,v=o.resetDeadlines;exports.resetDeadlines=v,exports.getResetPreview=f,exports.disableDeadlines=c,exports.sendStartTime=l,exports.getStartTime=s},wbHF:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("wiyT")),a=t(e("BDKN")),u=t(e("CWYE")),d=function _default(e,t){var d=(0,u.default)("/api/onDemandReferences.v1",{type:"rest"}),n=(new a.default).addQueryParam("courseId",t).addQueryParam("q","courseListed").addQueryParam("fields","name,shortId,slug,content").addQueryParam("includes","assets");return(0,r.default)(d.get(n.toString())).then(function(t){e.dispatch("LOAD_REFERENCES_LIST",t.elements)})};exports.default=d},yF8l:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var r=t(e("VYij")),a=t(e("ywP/")),u=t(e("f5V2")),d=t(e("9CUK")),n=e("Toj+");function _default(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.default)(e).then(function(t){if(t.linked&&t.linked["onDemandSessions.v1"]&&t.linked["onDemandSessionMemberships.v1"]){var a=(0,r.default)(t.linked["onDemandSessions.v1"]).groupBy("courseId"),o=(0,r.default)(t.linked["onDemandSessionMemberships.v1"]).groupBy("sessionId"),i=Object.keys(o);t.elements.forEach(function(e){var t=a[e.courseId]||[];if(t.length){var r=t.filter(function(e){return i.indexOf(e.id)>=0});if(r.length){var u=new n.Sessions(r).getLastSession();e.onDemandSessionId=u.id,e.onDemandSessionMemberships=r.map(function(e){return o[e.id]})}}})}if(t.linked&&t.linked["v1Details.v1"]&&(t.linked["courses.v1"]=(0,r.default)(t.linked["courses.v1"]).map(function(e){if("v1.session"===e.courseType||"v1.capstone"===e.courseType){e.v1Details=e.id;var a=(0,r.default)(t.linked["v1Sessions.v1"]).reduce(function(t,r){return r.courseId===e.id&&t.push(r.id.toString()),t},[]);e.v1Sessions=a}return e})),t.linked&&t.linked["v2Details.v1"]&&(t.linked["courses.v1"]=(0,r.default)(t.linked["courses.v1"]).map(function(e){return"v2.ondemand"===e.courseType&&(e.v2Details=(0,r.default)(t.linked["v2Details.v1"]).findWhere({id:e.id})),e})),t.linked&&t.linked["vcMemberships.v1"]){var s=(0,r.default)(t.linked["vcMemberships.v1"]).pluck("id");t.elements=(0,r.default)(t.elements).map(function(e){return(0,r.default)(s).contains(e.id)&&(e.vcMembershipId=e.id),e})}if(t.linked&&t.linked["courses.v1"]){var l=(0,r.default)(t.linked["courses.v1"]).pluck("id");t.elements=(0,r.default)(t.elements).chain().filter(function(e){return(0,r.default)(l).contains(e.courseId)}).compact().value()}if(t.linked&&t.linked["signatureTrackProfiles.v1"]&&(0,r.default)(t.elements).each(function(e){e.signatureTrackProfile=e.userId}),e.rawData)return t;if(e.withPaging)return{elements:(0,u.default)(d.default.prototype.resourceName,t),paging:t.paging};return(0,u.default)(d.default.prototype.resourceName,t)}).fail(function(t){if(e.rawData)return null;return new d.default})}},"ywP/":function(module,exports,e){var t=function(e){return e.default?e.default:e},r=e("8kE/").default,a=t(e("PVyl"));module.exports=r(a)}}]);
//# sourceMappingURL=3.2ca38ab3f605bcf4fd33.js.map